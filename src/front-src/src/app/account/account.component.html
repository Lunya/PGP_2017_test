<div class="jumbotron">
	<div class="row">
		<div class="container">
			<h1 align="center">Account</h1>
		</div>
	</div>
</div>

<div class="container">
	<form class="form-signin" [formGroup]="accountForm" (ngSubmit)="ngOnSubmit()" novalidate>
		<h2 class="form-signin-heading">Informations</h2>

		<div class="dropdown-divider"></div>

		<div class="form-group row mt-4">
			<label for="email" class="col-sm-2">
        <button class="btn btn-outline-secondary" disabled>Email</button>
        <!--<button *ngIf="!mailEdition" class="btn" (click)="activeMailEdition()"><i class="fa fa-pencil-square-o"></i>Edit</button>
        <button *ngIf="mailEdition" class="btn" (click)="activeMailEdition()"><i class="fa fa-arrow-left"></i>Back</button> -->
      </label>
			<div class="col-sm-10">
				<input type="email" id="email" class="form-control" formControlName="email" [value]="currentUser.email" required autofocus [ngClass]="{
				'is-invalid': (accountForm.controls['email'].invalid && accountForm.controls['email'].touched),
				'is-valid': accountForm.controls['email'].touched}" disabled>
			</div>
		</div>
		<div class="form-group row">
			<label for="name" class="col-sm-2">
        <button class="btn btn-outline-secondary" disabled>Name</button>
      <!--  <button *ngIf="!nameEdition" class="btn" (click)="activeNameEdition()"><i class="fa fa-pencil-square-o"></i>Edit</button>
        <button *ngIf="nameEdition" class="btn" (click)="activeNameEdition()"><i class="fa fa-arrow-left"></i>Back</button> -->
      </label>
			<div class="col-sm-10">
				<input type="text" id="name" class="form-control" formControlName="name" [value]="currentUser.name" required [ngClass]="{
				'is-invalid': (accountForm.controls['name'].invalid && accountForm.controls['name'].touched),
				'is-valid': accountForm.controls['name'].touched}" disabled>
			</div>
		</div>

		<div class="card">
			<div class="card-header font-weight-bold">
				Reset your password
			</div>
			<div class="card-block mt-4">
				<div class="col mb-3">
					<label for="password">Current Password</label>
					<input type="password" id="password" class="form-control" formControlName="password" required [ngClass]="{
        'is-invalid': (accountForm.controls['password'].invalid && accountForm.controls['password'].touched),
        'is-valid': accountForm.controls['password'].touched}">
				</div>
			</div>
			<div class="card-block">
				<div class="col mb-3">
					<label for="newPassword">New password</label>
					<input type="password" id="newPassword" class="form-control" formControlName="newPassword" required [ngClass]="{
      'is-invalid': (accountForm.controls['newPassword'].invalid && accountForm.controls['newPassword'].touched),
      'is-valid': accountForm.controls['newPassword'].touched}">
				</div>
			</div>
			<div class="card-block">
				<div class="col mb-3">
					<label for="confirmPassword">Confirm new password</label>
					<input type="password" id="confirmPassword" class="form-control" formControlName="confirmPassword" required [ngClass]="{
      'is-invalid': (accountForm.controls['confirmPassword'].invalid && accountForm.controls['confirmPassword'].touched),
      'is-valid': accountForm.controls['confirmPassword'].touched}">
				</div>
			</div>
		</div>


		<ul class="list-inline mt-4">
			<li class="list-inline-item"><button class="btn btn-primary" type="submit" [disabled]="accountForm.invalid">Apply modifications</button></li>
			<li class="list-inline-item pull-right"> <button class="btn btn-danger" (click)="deleteAccount()">Delete account</button></li>
		</ul>

		<img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="
		/>

	</form>
</div>
